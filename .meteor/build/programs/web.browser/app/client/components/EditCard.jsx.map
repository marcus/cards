{"version":3,"sources":["meteor://ðŸ’»app/client/components/EditCard.jsx"],"names":[],"mappings":"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","file":"/client/components/EditCard.jsx","sourcesContent":["EditCard = React.createClass({\n  mixins: [ History ],\n  getInitialState() {\n    // TODO - pass card in props;\n    this.card = this.props.cards.find((c) => c._id === this.props.params.id) || {};\n    return {card: Object.assign({title: 'loading...'}, this.card)};\n  },\n\n  // TODO - when receives props update the view (?) for live editing in multiple browsers\n  componentDidMount() {\n    //this.editor = new MediumEditor('#editor', {\n      //toolbar: {\n        //allowMultiParagraphSelection: true,\n        //buttons: ['bold', 'italic', 'underline', 'anchor', 'h2', 'h3', 'quote'],\n        ////standardizeSelectionStart: false,\n        //static: false,\n      //},\n      //placeholder: {\n        //text: ''\n      //}\n    //});\n    //this.editor.subscribe('editableInput', (e) => {\n      //this.updated = true;\n      //this.handleChange()\n    //});\n  },\n\n  //componentWillUnmount() {\n    //this.editor.destroy();\n  //},\n\n  //shouldComponentUpdate(nextProps, nextState) {\n  //},\n\n  validationState() {\n    let length = this.state.card.title.length;\n    if (length > 1 && length < 75) return 'success';\n    else if (length > 75) return 'warning';\n    else if (length > 0) return 'error';\n  },\n\n  handleChange(event) {\n    let card = Object.assign({}, this.state.card);\n    card.title = this.refs.title.getValue();\n    card.text_front = this.refs.text_front.getValue();\n    //card.text_front = React.findDOMNode(this.refs.text_front).innerHTML\n    this.setState({card: card});\n  },\n\n  save() {\n    store.dispatch(Actions.updateCard(\n      Object.assign({}, this.card, {\n        title: this.state.card.title,\n        text_front: this.state.card.text_front\n      })\n    ));\n  },\n\n  delete() {\n    if(confirm('U sure bro? It\\'s not coming back.')) {\n      store.dispatch(Actions.deleteCard(this.state.card._id));\n      this.history.pushState(null, '/');\n    }\n  },\n\n  //textFrontHtml() {\n    //return {__html: this.state.card.text_front};\n  //},\n\n  render() {\n    console.log(\"Rendering card item\");\n    return (\n      <div>\n        <Row>\n          <Col sm={6}>\n            <h4>Edit</h4>\n            <Input\n              type=\"text\"\n              value={this.state.card.title}\n              placeholder=\"Title\"\n              label=\"Title\"\n              bsStyle={this.validationState()}\n              hasFeedback\n              ref=\"title\"\n              groupClassName=\"group-class\"\n              labelClassName=\"label-class\"\n              onChange={this.handleChange}\n            />\n\n            <label htmlFor=\"editor\">Card Text (front)</label>\n            <Editor\n              ref=\"text_front\"\n              id=\"editor\"\n              onChange={this.handleChange}\n              text={this.state.card.text_front}\n            />\n\n          </Col>\n\n          <Col sm={6}>\n            <h4>Preview</h4>\n            <CardPreview card={this.state.card} />\n          </Col>\n\n        </Row>\n        <Row>\n          <Col sm={6}>\n            <Button onClick={this.save} bsStyle=\"primary\"><i className='fa fa-save' /> Save</Button>\n          </Col>\n          <Col sm={6} className='text-right'>\n            <Button onClick={this.delete} bsStyle=\"link\"><i className='fa fa-trash-o' /> Delete</Button>\n          </Col>\n        </Row>\n      </div>\n    )\n  }\n});\n"]}